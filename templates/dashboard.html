<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/global_style.css">
    <link rel="stylesheet" href="static/css/home_style.css">
</head>
<body>
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a class="sidebar-brand" href="/dashboard">SignLingo</a>
        </div>
        <div class="sidebar-menu">
            <a class="sidebar-link active" href="/dashboard">
                <i class="fas fa-house"></i>
                <span>Dashboard</span>
            </a>
            <a class="sidebar-link" href="/course">
                <i class="fas fa-book"></i>
                <span>Courses</span>
            </a>
            <!-- <a class="sidebar-link" href="/daily-quiz">
                <i class="fas fa-clipboard-list"></i>
                <span>Daily Quiz</span>
            </a> -->
            <a class="sidebar-link" href="/leaderboard">
                <i class="fas fa-trophy"></i>
                <span>Leaderboard</span>
            </a>
            <a class="sidebar-link" href="/shop">
                <i class="fas fa-shopping-bag"></i>
                <span>Shop</span>
            </a>
            <a class="sidebar-link" href="/premium">
                <i class="fas fa-crown"></i>
                <span>Premium</span>
            </a>
            <button class="more-options-button" id="moreOptionsButton">
                <i class="fas fa-ellipsis-h"></i>
            </button>
        </div>
        <div class="sidebar-footer">
            <a class="profile-link" href="/edit-account" id="profileLink">
                <div class="profile-circle-sidebar">{{ initials }}</div>
                <div class="profile-info">
                    <span id="profileName">{{ full_name }}</span>
                    <span class="profile-id">@ab93f1x</span>
                </div>
            </a>
            <a class="logout-link" href="/logout">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </div>
    </nav>

    <div class="dropup-menu" id="dropupMenu">
        <a href="/edit-account">
            <i class="fas fa-user-circle"></i>
            <span id="profileName">{{ full_name }}</span>
        </a>
        <a href="/logout" class="logout-link-mobile">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </a>
    </div>

    {% macro ordinal(n) -%}
        {%- set n = n|int -%}
        {%- set last = n % 10 -%}
        {%- set last_two = n % 100 -%}
        {%- if 11 <= last_two <= 13 -%}
            #{{ n }}th
        {%- elif last == 1 -%}
            #{{ n }}st
        {%- elif last == 2 -%}
            #{{ n }}nd
        {%- elif last == 3 -%}
            #{{ n }}rd
        {%- else -%}
            #{{ n }}th
        {%- endif -%}
    {%- endmacro %}

    <div class="main-content">
         <div class="content-wrapper">
            <div class="welcome-section mb-4">
                <h1 class="hero-title">Welcome, {{ full_name.split()[0] }}!</h1>
            </div>

            <div class="row g-4">
                <div class="col-lg-8">
                    <div class="hero-card mb-4">
                        <div class="hero-content">
                            <span class="hero-label">Let's start</span>
                            <h2 class="section-title">Bisindo Letters</h2>
                            <p class="body-large">Test your skills in Bisindo Letters, where you'll learn to express written communication effectively using Bahasa Isyarat Indonesia (Indonesian Sign Language).</p>
                            <button class="btn-primary" onclick="window.location.href='/video_learning'">
                                Resume Learning
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <div class="stats-grid mb-4">
                        <div class="stat-card">
                            <div class="stat-number">0%</div>
                            <div class="stat-label">Average Score</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">0</div>
                            <div class="stat-label">Completed Lessons</div>
                        </div>
                    </div>

                    <div class="section-header">
                        <h3 class="subheading">All modules</h3>
                    </div>

                    <div class="module-card">
                        <div class="module-header">
                            <div>
                                <span class="module-badge">MODULE</span>
                                <h3 class="subheading mt-2">Module 1</h3>
                            </div>
                            <button class="icon-button icon-button-primary" onclick="window.location.href='/video_learning'">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="module-footer">
                            <span class="caption">0% practiced</span>
                            <span class="caption caption-accent">3 lessons remaining</span>
                        </div>
                    </div>

                    <div class="module-card">
                        <div class="module-header">
                            <div>
                                <span class="module-badge">MODULE</span>
                                <h3 class="subheading mt-2">Module 2</h3>
                            </div>
                            <button class="icon-button icon-button-primary">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="module-footer">
                            <span class="caption">0% practiced</span>
                            <span class="caption caption-accent">3 lessons remaining</span>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="summary-card mb-4">
                        <div class="summary-item">
                            <i class="fas fa-book-open summary-icon"></i>
                            <div>
                                <div class="summary-label">Current Course</div>
                                <div class="summary-value">Bisindo</div>
                            </div>
                        </div>
                        <div class="summary-item">
                            <i class="fas fa-star summary-icon"></i>
                            <div>
                                <div class="summary-label">Total XP</div>
                                <div class="summary-value">{{user_points}} XP</div>
                            </div>
                        </div>
                        <div class="summary-item">
                            <i class="fas fa-heart summary-icon-heart"></i>
                            <div>
                                <div class="summary-label">Lives</div>
                                <div class="summary-value">5</div>
                            </div>
                        </div>
                    </div>

                    <div class="premium-card mb-4">
                        <div class="premium-icon">
                            <i class="fas fa-crown"></i>
                        </div>
                        <h3 class="subheading mb-2">Try Premium</h3>
                        <p class="caption-white mb-3">No ads, daily quiz & unlimited hearts</p>
                        <button class="btn-premium" onclick="window.location.href='/premium'">
                            Upgrade Now
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>

                    <div class="streak-card mb-4">
                        <div class="streak-header">
                            <i class="fas fa-fire"></i>
                            {% if login_today == True %}
                            <h3 class="subheading">1 day streak!</h3>
                            {% else %}
                            <h3 class="subheading">0 day streak!</h3>
                            {% endif %}
                        </div>
                        <p class="caption mb-3">Daily Streak</p>
                        <div class="streak-days">
                            {% if login_today == True %}
                            <div class="streak-day active">1</div>
                            <div class="streak-day">2</div>
                            <div class="streak-day">3</div>
                            <div class="streak-day">4</div>
                            <div class="streak-day">5</div>
                            <div class="streak-day">6</div>
                            <div class="streak-day">7</div>
                            {% else %}
                            <div class="streak-day">1</div>
                            <div class="streak-day">2</div>
                            <div class="streak-day">3</div>
                            <div class="streak-day">4</div>
                            <div class="streak-day">5</div>
                            <div class="streak-day">6</div>
                            <div class="streak-day">7</div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="rank-card mb-4">
                        <div class="rank-header">
                            <i class="fas fa-trophy"></i>
                            <h3 class="subheading">Your League</h3>
                        </div>
                        <div class="rank-content">
                            <div class="rank-badge {{ user_league|lower }}">
                                <i class="fas fa-medal"></i>
                            </div>
                            <div class="rank-info">
                                <div class="rank-league">{{ user_league }} league</div>
                                <div class="rank-position rank-{{ user_rank }}">
                                    {{ ordinal(user_rank) }} Â· {{ user_points }} XP
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="inspiration-card">
                        <h3 class="subheading mb-4">If you put your mind to it, you can accomplish anything.</h3>
                        <div class="inspiration-footer">
                            <i class="fas fa-quote-left"></i>
                            <p class="caption mb-0">MARTY MCFLY</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../static/js/navbar_logic.js"></script>
</body>
</html>